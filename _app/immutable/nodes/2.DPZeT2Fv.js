import{h as O,j as ge,e as ze,d as Ge,p as Je,q as Se,i as pe,k as ie,l as Fe,E as ce,z as ke,A as be,n as Xe,B as Le,C as Ze,D as Qe,a as S,t as E,b as k,c as ne,f as Q,r as x,s as u}from"../chunks/disclose-version.DSOrustx.js";import{p as F,c as We,i as K,b as et,o as Be}from"../chunks/index-client.CS2WOYGD.js";import{s as tt,d as rt}from"../chunks/misc.BI7z6EuW.js";import{z as at,k as nt,A as He,x as Ye,B as st,T as lt,q as ot,y as Ee,i as T,m as B,P as Te,U as it,V as ct,W as ft,K as vt,M as ut,S as dt,X as _t,Y as ht,D as gt,p as se,Z as ee,f as J,_ as fe,a as le,g as b,t as te,$ as H,J as Ae}from"../chunks/runtime.lFxhRguB.js";import{s as re,e as ue}from"../chunks/render.BYu9V39t.js";import{i as ve,s as pt,a as Ce}from"../chunks/store.CprdLEjt.js";import{w as Ie}from"../chunks/index.BqHsMGkV.js";const mt=!0;let me=null;function De(e,r){return r}function xt(e,r,t,a){for(var i=[],c=r.length,s=0;s<c;s++)it(r[s].e,i,!0);var d=c>0&&i.length===0&&t!==null;if(d){var y=t.parentNode;Xe(y),y.append(t),a.clear(),G(e,r[0].prev,r[c-1].next)}ct(i,()=>{for(var m=0;m<c;m++){var p=r[m];d||(a.delete(p.k),G(e,p.prev,p.next)),ft(p.e,!d)}})}function we(e,r,t,a,i,c=null){var s=e,d={flags:r,items:new Map,first:null},y=(r&Le)!==0;if(y){var m=e;s=O?ge(m.firstChild):m.appendChild(ze())}O&&Ge();var p=null;at(()=>{var l=t(),D=nt(l)?l:l==null?[]:Array.from(l),o=D.length,n=d.flags;n&be&&!vt(D)&&!(ut in D)&&!(dt in D)&&(n^=be,n&Qe&&!(n&ce)&&(n^=ce));let v=!1;if(O){var h=s.data===Je;h!==(o===0)&&(s=Se(),ge(s),pe(!1),v=!0)}if(O){for(var w=null,$,f=0;f<o;f++){if(ie.nodeType===8&&ie.data===Fe){s=ie,v=!0,pe(!1);break}var g=D[f],N=a(g,f);$=je(ie,d,w,null,g,N,f,i,n),d.items.set(N,$),w=$}o>0&&ge(Se())}O||yt(D,d,s,i,n,a),c!==null&&(o===0?p?He(p):p=Ye(()=>c(s)):p!==null&&st(p,()=>{p=null})),v&&pe(!0)}),O&&(s=ie)}function yt(e,r,t,a,i,c){var Y,j,z,oe;var s=(i&Ze)!==0,d=(i&(ce|ke))!==0,y=e.length,m=r.items,p=r.first,l=p,D=new Set,o=null,n=new Set,v=[],h=[],w,$,f,g;if(s)for(g=0;g<y;g+=1)w=e[g],$=c(w,g),f=m.get($),f!==void 0&&((Y=f.a)==null||Y.measure(),n.add(f));for(g=0;g<y;g+=1){if(w=e[g],$=c(w,g),f=m.get($),f===void 0){var N=l?l.e.nodes.start:t;o=je(N,r,o,o===null?r.first:o.next,w,$,g,a,i),m.set($,o),v=[],h=[],l=o.next;continue}if(d&&bt(f,w,g,i),f.e.f&lt&&(He(f.e),s&&((j=f.a)==null||j.unfix(),n.delete(f))),f!==l){if(D.has(f)){if(v.length<h.length){var q=h[0],C;o=q.prev;var X=v[0],P=v[v.length-1];for(C=0;C<v.length;C+=1)Oe(v[C],q,t);for(C=0;C<h.length;C+=1)D.delete(h[C]);G(r,X.prev,P.next),G(r,o,X),G(r,P,q),l=q,o=P,g-=1,v=[],h=[]}else D.delete(f),Oe(f,l,t),G(r,f.prev,f.next),G(r,f,o===null?r.first:o.next),G(r,o,f),o=f;continue}for(v=[],h=[];l!==null&&l.k!==$;)D.add(l),h.push(l),l=l.next;if(l===null)continue;f=l}v.push(f),o=f,l=f.next}const M=Array.from(D);for(;l!==null;)M.push(l),l=l.next;var V=M.length;if(V>0){var U=i&Le&&y===0?t:null;if(s){for(g=0;g<V;g+=1)(z=M[g].a)==null||z.measure();for(g=0;g<V;g+=1)(oe=M[g].a)==null||oe.fix()}xt(r,M,U,m)}s&&ot(()=>{var ae;for(f of n)(ae=f.a)==null||ae.apply()}),Ee.first=r.first&&r.first.e,Ee.last=o&&o.e}function bt(e,r,t,a){a&ce&&T(e.v,r),a&ke?T(e.i,t):e.i=t}function je(e,r,t,a,i,c,s,d,y){var m=me;try{var p=(y&ce)!==0,l=(y&be)===0,D=p?l?B(i):Te(i):i,o=y&ke?Te(s):s,n={i:o,v:D,k:c,a:null,e:null,prev:t,next:a};return me=n,n.e=Ye(()=>d(e,D,o),O),n.e.prev=t&&t.e,n.e.next=a&&a.e,t===null?r.first=n:(t.next=n,t.e.next=n.e),a!==null&&(a.prev=n,a.e.prev=n.e),n}finally{me=m}}function Oe(e,r,t){for(var a=e.next?e.next.e.nodes.start:t,i=r?r.e.nodes.start:t,c=e.e.nodes.start;c!==a;){var s=c.nextSibling;i.before(c),c=s}}function G(e,r,t){r===null?e.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}let Ne=!1;function qe(){Ne||(Ne=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const t of e.target.elements)(r=t.__on_r)==null||r.call(t)})},{capture:!0}))}function xe(e){if(O){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var a=e.value;de(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var i=e.checked;de(e,"checked",null),e.checked=i}}};e.__on_r=t,_t(t),qe()}}function de(e,r,t){t=t==null?null:t+"";var a=e.__attributes??(e.__attributes={});O&&(a[r]=e.getAttribute(r),r==="src"||r==="href"||r==="srcset")||a[r]!==(a[r]=t)&&(r==="loading"&&(e[ht]=t),t===null?e.removeAttribute(r):e.setAttribute(r,t))}function kt(e,r){var t=e.__className,a=Dt(r);O&&e.className===a?e.__className=a:(t!==a||O&&e.className!==a)&&(r==null?e.removeAttribute("class"):e.className=a,e.__className=a)}function Dt(e){return e??""}function wt(e,r,t,a=t){e.addEventListener(r,t);const i=e.__on_r;i?e.__on_r=()=>{i(),a()}:e.__on_r=a,qe()}function ye(e,r,t){wt(e,"input",()=>{t(Me(e)?Re(e.value):e.value)}),gt(()=>{var a=r();if(O&&e.defaultValue!==e.value){t(e.value);return}Me(e)&&a===Re(e.value)||e.type==="date"&&!a&&!e.value||(e.value=a??"")})}function Me(e){var r=e.type;return r==="number"||r==="range"}function Re(e){return e===""?null:+e}const $t=mt;var St=E('<div class="svelte-86rxly"></div>');function Et(e,r){se(r,!1);let t=F(r,"weight",4,0),i=`hsl(${t()*360}, 100%, 50%)`;ee(()=>J(t()),()=>{t(Math.max(0,Math.min(t(),1)))}),fe();var c=St();de(c,"style",`width: 20px; height: 20px; background-color: ${i??""}; border: 1px solid #000; display: inline-block;`),S(e,c),le()}var Tt=E('<ul class="pl-4"><!> <!></ul>'),At=E('<li class="mb-2"><div class="flex items-center"><button class="mr-2 text-blue-500 hover:text-blue-700 focus:outline-none"><!> <strong class="mr-2"> </strong></button></div> <!></li>'),Ct=E('<ul class="list-none pl-4"><!></ul>');function _e(e,r){se(r,!1);let t=F(r,"treeData",8,()=>({})),a=F(r,"maxDepth",0,5),i=F(r,"currentDepth",0,0);const c=We();function s(m){console.log("key",m),c("keyClick",m.detail)}ve();var d=Ct(),y=k(d);K(y,()=>i()<a()&&t(),m=>{var p=ne(),l=Q(p);we(l,1,()=>Object.entries(t()),De,(D,o,n)=>{let v=()=>H(H(o))[0],h=()=>H(H(o))[1];var w=At(),$=k(w),f=k($),g=k(f);Et(g,{get weight(){return h().weight},$$legacy:!0});var N=u(u(g,!0)),q=k(N);x(N),x(f),x($);var C=u(u($,!0));K(C,()=>h().parent||h().child,X=>{var P=Tt(),M=k(P);K(M,()=>h().parent,U=>{var Y=ne(),j=Q(Y),z=Ae(()=>i()+1);_e(j,{get treeData(){return h().parent},get maxDepth(){return a()},get currentDepth(){return b(z)},$$events:{keyClick:s},$$legacy:!0}),S(U,Y)});var V=u(u(M,!0));K(V,()=>h().child,U=>{var Y=ne(),j=Q(Y),z=Ae(()=>i()+1);_e(j,{get treeData(){return h().child},get maxDepth(){return a()},get currentDepth(){return b(z)},$$events:{keyClick:s},$$legacy:!0}),S(U,Y)}),x(P),S(X,P)}),x(w),te(()=>re(q,v())),ue("click",f,()=>s({detail:v()}),!1),S(D,w)}),S(m,p)}),x(d),S(e,d),le()}var It=E('<p class="text-xs"> </p>'),Ot=E('<p class="text-red-500"> </p>'),Nt=E("<p>Loading...</p>"),Mt=E("<p>Enter a word to get its definition.</p>"),Rt=E('<div class="p-1 border border-gray-300 rounded-md w-full "><h2 class="text-xs font-bold"> </h2> <!></div>');function Lt(e,r){se(r,!1);const t=pt(),a=()=>Ce(s,"$definitions",t),i=()=>Ce(d,"$error",t);let c=F(r,"word",0,"");const s=Ie([]),d=Ie(""),y=async o=>{if(!o){s.set([]),d.set("");return}try{const n=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${o}`);if(!n.ok)throw new Error("Word not found");const h=(await n.json())[0].meanings.flatMap(w=>w.definitions.map($=>$.definition));s.set(h),d.set("")}catch(n){d.set(n.message),s.set([])}};ee(()=>J(c()),()=>{c(),y(c())}),fe(),ve();var m=Rt(),p=k(m),l=k(p);x(p);var D=u(u(p,!0));K(D,()=>a().length>0,o=>{var n=It(),v=k(n);te(()=>re(v,a().join(" - "))),x(n),S(o,n)},o=>{var n=ne(),v=Q(n);K(v,i,h=>{var w=Ot(),$=k(w);x(w),te(()=>re($,i())),S(h,w)},h=>{var w=ne(),$=Q(w);K($,c,f=>{var g=Nt();S(f,g)},f=>{var g=Mt();S(f,g)},!0),S(h,w)},!0),S(o,n)}),x(m),te(()=>re(l,`Definition of "${c()??""}"`)),S(e,m),le()}var Wt=E("<option></option>"),Bt=E('<div class="p-4"><div class="flex flex-wrap items-center space-x-4"><label class="flex flex-col mb-4"><input type="text" list="words" placeholder="Enter word" class="mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-opacity-50"> <datalist id="words"></datalist></label> <label class="flex flex-col mb-4"><span class="text-gray-700">Minimum Weight:</span> <div class="flex items-center space-x-2"><input type="range" min="0" max="1" step="0.1" class="w-full mt-1"> <span class="text-gray-600"> </span></div></label> <label class="flex flex-col mb-4"><span class="text-gray-700">Max Depth:</span> <div class="flex items-center space-x-2"><input type="range" min="1" max="20" step="1" class="w-full mt-1"> <span class="text-gray-600"> </span></div></label></div> <div class="flex mt-8"><!></div> <div class="flex mt-8"><div class="w-1/2"><h2 class="text-lg font-semibold mb-4">Ancestors</h2> <!></div> <div class="w-1/2"><h2 class="text-lg font-semibold mb-4">Grandchildren</h2> <!></div></div></div>');function Ht(e,r){se(r,!1);const t=B(),a=B(),i=B();let c=F(r,"data",8,()=>({})),s=F(r,"word",4,"sadness"),d=B(.5),y=B(10),m=B();function p(_,R,A,L=new Set,I=new Set){if(I.has(_)||L.has(_))return null;I.add(_);const Z={};for(let W in A)if(A[W][_]&&A[W][_].weight>=R){const he=p(W,R,A,L,I);Z[W]={weight:A[W][_].weight,parent:he||{}}}return I.delete(_),L.add(_),Object.keys(Z).length>0?Z:null}function l(_,R,A,L=new Set,I=new Set){if(I.has(_)||L.has(_))return null;I.add(_);const Z={};if(A[_]){for(let W in A[_])if(A[_][W].weight>=R&&W!==_){const he=l(W,R,A,L,I);Z[W]={weight:A[_][W].weight,child:he||{}}}}return I.delete(_),L.add(_),Object.keys(Z).length>0?Z:null}function D(_){console.log("handleKeyClick",_.detail),s(_.detail),b(m).focus()}ee(()=>J(c()),()=>{T(t,!c()||Object.keys(c()).length===0?[]:Object.keys(c()).flatMap(_=>Object.keys(c()[_])).filter((_,R,A)=>A.indexOf(_)===R))}),ee(()=>(J(s()),b(d),J(c())),()=>{T(a,p(s(),b(d),c()))}),ee(()=>(J(s()),b(d),J(c())),()=>{T(i,l(s(),b(d),c()))}),fe(),ve();var o=Bt(),n=k(o),v=k(n),h=k(v);et(h,_=>T(m,_),()=>b(m)),xe(h);var w=u(u(h,!0));we(w,9,()=>b(t),De,(_,R,A)=>{var L=Wt(),I={};te(()=>{I!==(I=H(R))&&(L.value=(L.__value=H(R))==null?"":H(R))}),S(_,L)}),x(w),x(v);var $=u(u(v,!0)),f=k($),g=u(u(f,!0)),N=k(g);xe(N);var q=u(u(N,!0)),C=k(q);x(q),x(g),x($);var X=u(u($,!0)),P=k(X),M=u(u(P,!0)),V=k(M);xe(V);var U=u(u(V,!0)),Y=k(U);x(U),x(M),x(X),x(n);var j=u(u(n,!0)),z=k(j);Lt(z,{get word(){return s()},$$legacy:!0}),x(j);var oe=u(u(j,!0)),ae=k(oe),Pe=k(ae),Ve=u(u(Pe,!0));_e(Ve,{get treeData(){return b(a)},get maxDepth(){return b(y)},$$events:{keyClick:D},$$legacy:!0}),x(ae);var $e=u(u(ae,!0)),Ke=k($e),Ue=u(u(Ke,!0));_e(Ue,{get treeData(){return b(i)},get maxDepth(){return b(y)},$$events:{keyClick:D},$$legacy:!0}),x($e),x(oe),x(o),te(()=>{re(C,b(d)),re(Y,b(y))}),ye(h,s,_=>s(_)),ye(N,()=>b(d),_=>T(d,_)),ye(V,()=>b(y),_=>T(y,_)),S(e,o),le()}var Yt=E('<div><div class="tooltip svelte-atlsk3"> </div></div>'),jt=E('<div class="word-bar svelte-atlsk3"><button>🧭</button> <!></div>');function qt(e,r){se(r,!1);let t=F(r,"words",8,()=>[]);const a=We();let i=B("");function c(p,l){p.stopPropagation(),T(i,l),a("wordSelected",l)}function s(){const p=Math.floor(Math.random()*t().length),l=t()[p];T(i,l),a("wordSelected",l)}Be(s),ee(()=>J(t()),()=>{console.log(t().length)}),fe(),ve();var d=jt(),y=k(d),m=u(u(y,!0));we(m,1,t,De,(p,l,D)=>{var o=Yt(),n=k(o),v=k(n);x(n),x(o),te(()=>{kt(o,`word-segment ${(b(i)===H(l)?"selected":"")??""} svelte-atlsk3`),de(o,"style",`background-color: hsl(${H(D)*360/t().length}, 70%, 50%);`),re(v,H(l))}),ue("click",o,h=>c(h,H(l)),!1),S(p,o)}),x(d),ue("click",y,s,!1),S(e,d),le()}var Pt=E("<div><!> <!></div>"),Vt=E('<div class="w-full"><!> <button>Clear Cache</button></div>');function Kt(e,r){se(r,!1);let t=B(void 0),a=B(void 0);function i(n){return new URL("concepts.json",n).toString()}async function c(){const n=i(window.location.href);try{const v=await fetch(n);v.ok&&(T(t,await v.json()),sessionStorage.setItem("cachedData",JSON.stringify(b(t))),sessionStorage.setItem("cacheTimestamp",Date.now().toString()))}catch(v){console.log("error",v)}}function s(){const n=sessionStorage.getItem("cachedData");n&&T(t,JSON.parse(n))}function d(){sessionStorage.removeItem("cachedData"),sessionStorage.removeItem("cacheTimestamp"),T(t,void 0)}function y(){const n=sessionStorage.getItem("cacheTimestamp"),v=24*60*60*1e3;return n&&Date.now()-parseInt(n)<v}Be(async()=>{y()?s():await c()});let m=B("");function p(n){T(m,n.detail)}ee(()=>(b(a),b(t)),()=>{T(a,b(t)&&Object.keys(b(t)).flat(n=>Object.keys(b(t)[n]))),console.log(b(a))}),fe(),ve();var l=Vt(),D=k(l);K(D,()=>b(t),n=>{var v=Pt(),h=k(v);qt(h,{get words(){return b(a)},$$events:{wordSelected:p},$$legacy:!0});var w=u(u(h,!0));Ht(w,{get data(){return b(t)},get word(){return b(m)},$$legacy:!0}),x(v),S(n,v)});var o=u(u(D,!0));x(l),ue("click",o,d,!1),S(e,l),le()}var Ut=E('<!> <div class="bg-slate-100"><!></div>',1);function er(e,r){var t=Ut(),a=Q(t);K(a,()=>$t,s=>{var d=ne(),y=Q(d);tt(y,rt(r),{}),S(s,d)});var i=u(u(a,!0)),c=k(i);Kt(c,{$$legacy:!0}),x(i),S(e,t)}export{er as component};
