import{h as O,j as he,e as ze,d as Ge,p as Je,q as Se,i as ge,k as ie,l as Fe,E as ce,z as be,A as ye,n as Xe,B as Le,C as Ze,D as Qe,a as S,t as E,b as k,c as ne,f as Q,r as x,s as _}from"../chunks/disclose-version.DSOrustx.js";import{p as F,c as We,i as K,b as et,o as Be}from"../chunks/index-client.CS2WOYGD.js";import{s as tt,d as at}from"../chunks/misc.BI7z6EuW.js";import{z as rt,k as nt,A as He,x as Ye,B as st,T as lt,q as ot,y as Ee,i as T,m as B,P as Te,U as it,V as ct,W as vt,K as ft,M as dt,S as ut,X as _t,Y as ht,D as gt,p as se,Z as ee,f as J,_ as ve,a as le,g as w,t as te,$ as H,J as Ae}from"../chunks/runtime.lFxhRguB.js";import{s as ae,e as ke}from"../chunks/render.BYu9V39t.js";import{i as fe,s as pt,a as Ce}from"../chunks/store.CprdLEjt.js";import{w as Ie}from"../chunks/index.BqHsMGkV.js";const mt=!0;let pe=null;function De(e,a){return a}function xt(e,a,t,r){for(var l=[],o=a.length,s=0;s<o;s++)it(a[s].e,l,!0);var d=o>0&&l.length===0&&t!==null;if(d){var p=t.parentNode;Xe(p),p.append(t),r.clear(),G(e,a[0].prev,a[o-1].next)}ct(l,()=>{for(var f=0;f<o;f++){var y=a[f];d||(r.delete(y.k),G(e,y.prev,y.next)),vt(y.e,!d)}})}function we(e,a,t,r,l,o=null){var s=e,d={flags:a,items:new Map,first:null},p=(a&Le)!==0;if(p){var f=e;s=O?he(f.firstChild):f.appendChild(ze())}O&&Ge();var y=null;rt(()=>{var i=t(),b=nt(i)?i:i==null?[]:Array.from(i),c=b.length,n=d.flags;n&ye&&!ft(b)&&!(dt in b)&&!(ut in b)&&(n^=ye,n&Qe&&!(n&ce)&&(n^=ce));let u=!1;if(O){var m=s.data===Je;m!==(c===0)&&(s=Se(),he(s),ge(!1),u=!0)}if(O){for(var D=null,$,v=0;v<c;v++){if(ie.nodeType===8&&ie.data===Fe){s=ie,u=!0,ge(!1);break}var g=b[v],N=r(g,v);$=je(ie,d,D,null,g,N,v,l,n),d.items.set(N,$),D=$}c>0&&he(Se())}O||yt(b,d,s,l,n,r),o!==null&&(c===0?y?He(y):y=Ye(()=>o(s)):y!==null&&st(y,()=>{y=null})),u&&ge(!0)}),O&&(s=ie)}function yt(e,a,t,r,l,o){var Y,j,z,oe;var s=(l&Ze)!==0,d=(l&(ce|be))!==0,p=e.length,f=a.items,y=a.first,i=y,b=new Set,c=null,n=new Set,u=[],m=[],D,$,v,g;if(s)for(g=0;g<p;g+=1)D=e[g],$=o(D,g),v=f.get($),v!==void 0&&((Y=v.a)==null||Y.measure(),n.add(v));for(g=0;g<p;g+=1){if(D=e[g],$=o(D,g),v=f.get($),v===void 0){var N=i?i.e.nodes.start:t;c=je(N,a,c,c===null?a.first:c.next,D,$,g,r,l),f.set($,c),u=[],m=[],i=c.next;continue}if(d&&bt(v,D,g,l),v.e.f&lt&&(He(v.e),s&&((j=v.a)==null||j.unfix(),n.delete(v))),v!==i){if(b.has(v)){if(u.length<m.length){var q=m[0],C;c=q.prev;var X=u[0],P=u[u.length-1];for(C=0;C<u.length;C+=1)Oe(u[C],q,t);for(C=0;C<m.length;C+=1)b.delete(m[C]);G(a,X.prev,P.next),G(a,c,X),G(a,P,q),i=q,c=P,g-=1,u=[],m=[]}else b.delete(v),Oe(v,i,t),G(a,v.prev,v.next),G(a,v,c===null?a.first:c.next),G(a,c,v),c=v;continue}for(u=[],m=[];i!==null&&i.k!==$;)b.add(i),m.push(i),i=i.next;if(i===null)continue;v=i}u.push(v),c=v,i=v.next}const M=Array.from(b);for(;i!==null;)M.push(i),i=i.next;var V=M.length;if(V>0){var U=l&Le&&p===0?t:null;if(s){for(g=0;g<V;g+=1)(z=M[g].a)==null||z.measure();for(g=0;g<V;g+=1)(oe=M[g].a)==null||oe.fix()}xt(a,M,U,f)}s&&ot(()=>{var re;for(v of n)(re=v.a)==null||re.apply()}),Ee.first=a.first&&a.first.e,Ee.last=c&&c.e}function bt(e,a,t,r){r&ce&&T(e.v,a),r&be?T(e.i,t):e.i=t}function je(e,a,t,r,l,o,s,d,p){var f=pe;try{var y=(p&ce)!==0,i=(p&ye)===0,b=y?i?B(l):Te(l):l,c=p&be?Te(s):s,n={i:c,v:b,k:o,a:null,e:null,prev:t,next:r};return pe=n,n.e=Ye(()=>d(e,b,c),O),n.e.prev=t&&t.e,n.e.next=r&&r.e,t===null?a.first=n:(t.next=n,t.e.next=n.e),r!==null&&(r.prev=n,r.e.prev=n.e),n}finally{pe=f}}function Oe(e,a,t){for(var r=e.next?e.next.e.nodes.start:t,l=a?a.e.nodes.start:t,o=e.e.nodes.start;o!==r;){var s=o.nextSibling;l.before(o),o=s}}function G(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}let Ne=!1;function qe(){Ne||(Ne=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function me(e){if(O){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var r=e.value;de(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var l=e.checked;de(e,"checked",null),e.checked=l}}};e.__on_r=t,_t(t),qe()}}function de(e,a,t){t=t==null?null:t+"";var r=e.__attributes??(e.__attributes={});O&&(r[a]=e.getAttribute(a),a==="src"||a==="href"||a==="srcset")||r[a]!==(r[a]=t)&&(a==="loading"&&(e[ht]=t),t===null?e.removeAttribute(a):e.setAttribute(a,t))}function kt(e,a){var t=e.__className,r=Dt(a);O&&e.className===r?e.__className=r:(t!==r||O&&e.className!==r)&&(a==null?e.removeAttribute("class"):e.className=r,e.__className=r)}function Dt(e){return e??""}function wt(e,a,t,r=t){e.addEventListener(a,t);const l=e.__on_r;l?e.__on_r=()=>{l(),r()}:e.__on_r=r,qe()}function xe(e,a,t){wt(e,"input",()=>{t(Me(e)?Re(e.value):e.value)}),gt(()=>{var r=a();if(O&&e.defaultValue!==e.value){t(e.value);return}Me(e)&&r===Re(e.value)||e.type==="date"&&!r&&!e.value||(e.value=r??"")})}function Me(e){var a=e.type;return a==="number"||a==="range"}function Re(e){return e===""?null:+e}const $t=mt;var St=E('<div class="svelte-86rxly"></div>');function Et(e,a){se(a,!1);let t=F(a,"weight",4,0),l=`hsl(${t()*360}, 100%, 50%)`;ee(()=>J(t()),()=>{t(Math.max(0,Math.min(t(),1)))}),ve();var o=St();de(o,"style",`width: 20px; height: 20px; background-color: ${l??""}; border: 1px solid #000; display: inline-block;`),S(e,o),le()}var Tt=E('<ul class="pl-4"><!> <!></ul>'),At=E('<li class="mb-2"><div class="flex items-center"><button class="mr-2 text-blue-500 hover:text-blue-700 focus:outline-none"><!> <strong class="mr-2"> </strong></button></div> <!></li>'),Ct=E('<ul class="list-none pl-4"><!></ul>');function ue(e,a){se(a,!1);let t=F(a,"treeData",8,()=>({})),r=F(a,"maxDepth",0,5),l=F(a,"currentDepth",0,0);const o=We();function s(f){console.log("key",f),o("keyClick",f.detail)}fe();var d=Ct(),p=k(d);K(p,()=>l()<r()&&t(),f=>{var y=ne(),i=Q(y);we(i,1,()=>Object.entries(t()),De,(b,c,n)=>{let u=()=>H(H(c))[0],m=()=>H(H(c))[1];var D=At(),$=k(D),v=k($),g=k(v);Et(g,{get weight(){return m().weight},$$legacy:!0});var N=_(_(g,!0)),q=k(N);x(N),x(v),x($);var C=_(_($,!0));K(C,()=>m().parent||m().child,X=>{var P=Tt(),M=k(P);K(M,()=>m().parent,U=>{var Y=ne(),j=Q(Y),z=Ae(()=>l()+1);ue(j,{get treeData(){return m().parent},get maxDepth(){return r()},get currentDepth(){return w(z)},$$events:{keyClick:s},$$legacy:!0}),S(U,Y)});var V=_(_(M,!0));K(V,()=>m().child,U=>{var Y=ne(),j=Q(Y),z=Ae(()=>l()+1);ue(j,{get treeData(){return m().child},get maxDepth(){return r()},get currentDepth(){return w(z)},$$events:{keyClick:s},$$legacy:!0}),S(U,Y)}),x(P),S(X,P)}),x(D),te(()=>ae(q,u())),ke("click",v,()=>s({detail:u()}),!1),S(b,D)}),S(f,y)}),x(d),S(e,d),le()}var It=E('<p class="text-xs"> </p>'),Ot=E('<p class="text-red-500"> </p>'),Nt=E("<p>Loading...</p>"),Mt=E("<p>Enter a word to get its definition.</p>"),Rt=E('<div class="p-1 border border-gray-300 rounded-md w-full "><h2 class="text-xs font-bold"> </h2> <!></div>');function Lt(e,a){se(a,!1);const t=pt(),r=()=>Ce(s,"$definitions",t),l=()=>Ce(d,"$error",t);let o=F(a,"word",0,"");const s=Ie([]),d=Ie(""),p=async c=>{if(!c){s.set([]),d.set("");return}try{const n=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${c}`);if(!n.ok)throw new Error("Word not found");const m=(await n.json())[0].meanings.flatMap(D=>D.definitions.map($=>$.definition));s.set(m),d.set("")}catch(n){d.set(n.message),s.set([])}};ee(()=>J(o()),()=>{o(),p(o())}),ve(),fe();var f=Rt(),y=k(f),i=k(y);x(y);var b=_(_(y,!0));K(b,()=>r().length>0,c=>{var n=It(),u=k(n);te(()=>ae(u,r().join(" - "))),x(n),S(c,n)},c=>{var n=ne(),u=Q(n);K(u,l,m=>{var D=Ot(),$=k(D);x(D),te(()=>ae($,l())),S(m,D)},m=>{var D=ne(),$=Q(D);K($,o,v=>{var g=Nt();S(v,g)},v=>{var g=Mt();S(v,g)},!0),S(m,D)},!0),S(c,n)}),x(f),te(()=>ae(i,`Definition of "${o()??""}"`)),S(e,f),le()}var Wt=E("<option></option>"),Bt=E('<div class="p-4"><div class="flex flex-wrap items-center space-x-4"><label class="flex flex-col mb-4"><input type="text" list="words" placeholder="Enter word" class="mt-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring focus:ring-opacity-50"> <datalist id="words"></datalist></label> <label class="flex flex-col mb-4"><span class="text-gray-700">Minimum Weight:</span> <div class="flex items-center space-x-2"><input type="range" min="0" max="1" step="0.1" class="w-full mt-1"> <span class="text-gray-600"> </span></div></label> <label class="flex flex-col mb-4"><span class="text-gray-700">Max Depth:</span> <div class="flex items-center space-x-2"><input type="range" min="1" max="20" step="1" class="w-full mt-1"> <span class="text-gray-600"> </span></div></label></div> <div class="flex mt-8"><!></div> <div class="flex mt-8"><div class="w-1/2"><h2 class="text-lg font-semibold mb-4">Ancestors</h2> <!></div> <div class="w-1/2"><h2 class="text-lg font-semibold mb-4">Grandchildren</h2> <!></div></div></div>');function Ht(e,a){se(a,!1);const t=B(),r=B(),l=B();let o=F(a,"data",8,()=>({})),s=F(a,"word",4,"sadness"),d=B(.5),p=B(10),f=B();function y(h,R,A,L=new Set,I=new Set){if(I.has(h)||L.has(h))return null;I.add(h);const Z={};for(let W in A)if(A[W][h]&&A[W][h].weight>=R){const _e=y(W,R,A,L,I);Z[W]={weight:A[W][h].weight,parent:_e||{}}}return I.delete(h),L.add(h),Object.keys(Z).length>0?Z:null}function i(h,R,A,L=new Set,I=new Set){if(I.has(h)||L.has(h))return null;I.add(h);const Z={};if(A[h]){for(let W in A[h])if(A[h][W].weight>=R&&W!==h){const _e=i(W,R,A,L,I);Z[W]={weight:A[h][W].weight,child:_e||{}}}}return I.delete(h),L.add(h),Object.keys(Z).length>0?Z:null}function b(h){console.log("handleKeyClick",h.detail),s(h.detail),w(f).focus()}ee(()=>J(o()),()=>{T(t,!o()||Object.keys(o()).length===0?[]:Object.keys(o()).flatMap(h=>Object.keys(o()[h])).filter((h,R,A)=>A.indexOf(h)===R))}),ee(()=>(J(s()),w(d),J(o())),()=>{T(r,y(s(),w(d),o()))}),ee(()=>(J(s()),w(d),J(o())),()=>{T(l,i(s(),w(d),o()))}),ve(),fe();var c=Bt(),n=k(c),u=k(n),m=k(u);et(m,h=>T(f,h),()=>w(f)),me(m);var D=_(_(m,!0));we(D,9,()=>w(t),De,(h,R,A)=>{var L=Wt(),I={};te(()=>{I!==(I=H(R))&&(L.value=(L.__value=H(R))==null?"":H(R))}),S(h,L)}),x(D),x(u);var $=_(_(u,!0)),v=k($),g=_(_(v,!0)),N=k(g);me(N);var q=_(_(N,!0)),C=k(q);x(q),x(g),x($);var X=_(_($,!0)),P=k(X),M=_(_(P,!0)),V=k(M);me(V);var U=_(_(V,!0)),Y=k(U);x(U),x(M),x(X),x(n);var j=_(_(n,!0)),z=k(j);Lt(z,{get word(){return s()},$$legacy:!0}),x(j);var oe=_(_(j,!0)),re=k(oe),Pe=k(re),Ve=_(_(Pe,!0));ue(Ve,{get treeData(){return w(r)},get maxDepth(){return w(p)},$$events:{keyClick:b},$$legacy:!0}),x(re);var $e=_(_(re,!0)),Ke=k($e),Ue=_(_(Ke,!0));ue(Ue,{get treeData(){return w(l)},get maxDepth(){return w(p)},$$events:{keyClick:b},$$legacy:!0}),x($e),x(oe),x(c),te(()=>{ae(C,w(d)),ae(Y,w(p))}),xe(m,s,h=>s(h)),xe(N,()=>w(d),h=>T(d,h)),xe(V,()=>w(p),h=>T(p,h)),S(e,c),le()}var Yt=E('<div><div class="tooltip svelte-1a7avm8"> </div></div>'),jt=E('<div class="word-bar svelte-1a7avm8"></div>');function qt(e,a){se(a,!1);let t=F(a,"words",8,()=>[]);const r=We();let l=B("");function o(p,f){p.stopPropagation(),T(l,f),r("wordSelected",f)}function s(){const p=Math.floor(Math.random()*t().length),f=t()[p];T(l,f),r("wordSelected",f)}Be(s),ee(()=>J(t()),()=>{console.log(t().length)}),ve(),fe();var d=jt();we(d,9,t,De,(p,f,y)=>{var i=Yt(),b=k(i),c=k(b);x(b),x(i),te(()=>{kt(i,`word-segment ${(w(l)===H(f)?"selected":"")??""} svelte-1a7avm8`),de(i,"style",`background-color: hsl(${H(y)*360/t().length}, 70%, 50%);`),ae(c,H(f))}),ke("click",i,n=>o(n,H(f)),!1),S(p,i)}),x(d),S(e,d),le()}var Pt=E("<div><!> <!></div>"),Vt=E('<div class="w-full"><!> <button>Clear Cache</button></div>');function Kt(e,a){se(a,!1);let t=B(void 0),r=B(void 0);function l(n){return new URL("concepts.json",n).toString()}async function o(){const n=l(window.location.href);try{const u=await fetch(n);u.ok&&(T(t,await u.json()),sessionStorage.setItem("cachedData",JSON.stringify(w(t))),sessionStorage.setItem("cacheTimestamp",Date.now().toString()))}catch(u){console.log("error",u)}}function s(){const n=sessionStorage.getItem("cachedData");n&&T(t,JSON.parse(n))}function d(){sessionStorage.removeItem("cachedData"),sessionStorage.removeItem("cacheTimestamp"),T(t,void 0)}function p(){const n=sessionStorage.getItem("cacheTimestamp"),u=24*60*60*1e3;return n&&Date.now()-parseInt(n)<u}Be(async()=>{p()?s():await o()});let f=B("");function y(n){T(f,n.detail)}ee(()=>w(t),()=>{T(r,w(t)&&Object.keys(w(t)).flatMap(n=>Object.keys(w(t)[n])))}),ve(),fe();var i=Vt(),b=k(i);K(b,()=>w(t),n=>{var u=Pt(),m=k(u);qt(m,{get words(){return w(r)},$$events:{wordSelected:y},$$legacy:!0});var D=_(_(m,!0));Ht(D,{get data(){return w(t)},get word(){return w(f)},$$legacy:!0}),x(u),S(n,u)});var c=_(_(b,!0));x(i),ke("click",c,d,!1),S(e,i),le()}var Ut=E('<!> <div class="bg-slate-100"><!></div>',1);function ea(e,a){var t=Ut(),r=Q(t);K(r,()=>$t,s=>{var d=ne(),p=Q(d);tt(p,at(a),{}),S(s,d)});var l=_(_(r,!0)),o=k(l);Kt(o,{$$legacy:!0}),x(l),S(e,t)}export{ea as component};
